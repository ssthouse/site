<!--
index: 0
title: 图例居中
resource:
  jsFiles:
    - ${url.lodash}
-->

<script>
$.getJSON('/assets/data/f2/center-legend.json', function(data) {
  const chart = new F2.Chart({
    id: 'mountNode',
    width: window.innerWidth,
    height: window.innerWidth > window.innerHeight ? window.innerHeight - 54 : window.innerWidth * 0.707,
    pixelRatio: window.devicePixelRatio
  });
  chart.source(data, {
    'School Year': {
      tickCount: 3
    }
  });
  // 设置图例居中显示
  chart.legend({
    align: 'center',
    itemWidth: null // 图例项按照实际宽度渲染
  });
  // tooltip 与图例结合
  chart.tooltip({
    showCrosshairs: true
  });
  chart.line().position('School Year*value').color('type').style('type', {
    lineDash(val) {
      if (val === 'Total') {
        return [ 1, 4 ];
      }
      return null;
    }
  });
  chart.point().position('School Year*value').color('type');
  chart.render();
});
</script>
